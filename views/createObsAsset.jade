extends layout
block head

  title Your assets
  link(rel="stylesheet", href="/css/ext-all.css")
  script(src='/js/ext-all.js')

  include createAssetForm.js

  script
    Ext.onReady(function() {

        var extraFields = [{
            xtype: 'textfield',
            name: 'obsFile[test]',
            fieldLabel: 'Test OBS file field',
            value: 'test'
        }];

        var panel = Ext.create('Ext.Panel', {
            collapsible: false,
            region: 'center',
            dockedItems: [{
                xtype: 'toolbar',
                dock: 'top',
                items: [{
                    xtype: 'button',
                    text: 'Mass create',
                    scope: this,
                    handler: function() {
                        window.location.href = "/asset/create/mass";
                    }
                }, {
                    xtype: 'button',
                    text: 'Generic Asset',
                    scope: this,
                    handler: function() {
                        window.location.href = "/asset/create/generic";
                    }
                }, {
                    xtype: 'button',
                    text: 'Book Asset',
                    scope: this,
                    handler: function() {
                        window.location.href = "/asset/create/book";
                    }
                }, {
                    xtype: 'button',
                    text: 'App from OBS',
                    scope: this,
                    handler: function() {
                        window.location.href = "/asset/create/obs";
                    }
                }]
            }],
            items: [createAssetForm(extraFields)]
        });

        var layout = Ext.create('Ext.Viewport', {
            layout:'border',
            bodyBorder: false,
            padding: '48 0 0 0',
            bodyStyle: 'width:100%',
            items: [panel],
            renderTo: Ext.getBody(),
            border: 0
        });
    });

block body
  .title
    <br/>
    include navigator
    .container-fluid
